@import "~@angular/material/theming";
@import "~src/assets/styles/modules/mixins";
@import "~src/assets/styles/modules/typography";
@import "~src/assets/styles/modules/variables";

@mixin quill-editor-theme-styles($_theme-primary-color, $_theme-accent-color, $_theme-background, $_theme-foreground) {

    quill-editor {
        //border: 1px solid map-get($_theme-foreground, divider);
        transition: $swift-ease-out;
        transition-property: background-color;

        &.focused {
            border: 1px solid map-get($_theme-foreground, divider);
        }

        &:not(.focused):hover {
            background-color: map-get($_theme-foreground, divider);
        }

        .ql-toolbar,
        .ql-formats {
            border-color: map-get($_theme-foreground, divider);
        }

        button {

            svg {

                .ql-fill {
                    fill: currentColor;
                }

                .ql-stroke {
                    stroke: currentColor;
                }
            }

            &.ql-code-block {
                position: relative;

                &::before {
                    @include center-absolute();
                    background-color: map-get($_theme-foreground, text);
                    border-radius: $roundness;
                    content: '';
                    height: 14px;
                    position: absolute;
                    width: 18px;
                }

                svg {
                    z-index: 1;

                    .ql-fill {
                        fill: map-get($_theme-background, card) !important;
                    }

                    .ql-stroke {
                        stroke: map-get($_theme-background, card) !important;
                    }
                }
            }

            &:hover,
            &:focus,
            &.ql-active {
                background-color: map-get($_theme-foreground, divider);

                &::before {
                    background-color: $_theme-accent-color;
                }

                svg {

                    .ql-fill {
                        fill: $_theme-accent-color;
                    }

                    .ql-stroke {
                        stroke: $_theme-accent-color;
                    }
                }
            }
        }

        .ql-container {

            .ql-editor {

                &.ql-blank::before {
                    color: map-get($_theme-foreground, disabled-text);
                }

                pre {
                    //background-color: darken(map-get($_theme-background, card), 12%);
                    //color: inherit;

                    .hljs-tag {
                        //color: inherit;
                    }
                }

                code {
                    background-color: map-get($_theme-foreground, divider);
                    color: $_theme-primary-color;
                }
            }
        }
    }
}
